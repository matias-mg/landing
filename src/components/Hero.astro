---
import DownloadIcon from "./icons/DownloadIcon.astro";
import LinkedInIcon from "./icons/LinkedInIcon.astro";
import HoverButton from "./HoverButton.astro";
import HeroBigShape from "./icons/HeroBigShape.astro";
import HeroDoubleLine from "./icons/HeroDoubleLine.astro";
import BlurImage from "./BlurImage.astro";
import ProfilePic from "../../public/profile-pic.webp";
import EmailIcon from "./icons/EmailIcon.astro";
import { getLangFromUrl, useTranslations } from "../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const buildCVLink = () => {
    switch (lang) {
        case "en":
            return "https://drive.google.com/file/d/1lkNuPJ0Ru5QMC16KDlE1V91WxtB9aahA/view?usp=drive_link";
        case "es":
            return "https://drive.google.com/file/d/1OTx_KDRmWEwJ42TMsSpttn1Q3lAKKu4v/view?usp=drive_link";
        case "pt":
            return "https://drive.google.com/file/d/1OTx_KDRmWEwJ42TMsSpttn1Q3lAKKu4v/view?usp=drive_link";
        default:
            return "https://drive.google.com/file/d/1lkNuPJ0Ru5QMC16KDlE1V91WxtB9aahA/view?usp=drive_link";
    }
};
---

<section
    id="about-me"
    class="relative flex flex-col-reverse items-center gap-8 w-full max-w-5xl mx-auto pt-4 sm:pt-16 md:flex-row md:justify-between lg:gap-4 lg:pt-24"
>
    <div class="text-center md:text-left">
        <h1
            class="relative max-w-2xl text-4xl font-semibold text-blue-50 md:text-4xl"
        >
            Matías Medina
            <HeroDoubleLine
                class="absolute top-0 md:bottom-50 -left-20 md:-left-[130px] text-blue-600 opacity-90"
            />
        </h1>
        <h2 class="mb-2 font-base text-lg text-gray-500 md:text-lg">
            {t("hero.headline")}
        </h2>
        <span
            class="bg-gradient-to-br from-teal-700 via-blue-600 to-teal-700 text-blue-50 text-sm font-normal me-2 py-1.5 px-4 rounded-full h-[26px] bg-[length:200%_200%] bg-left animate-background-scroll"
            >{t("hero.badge")}</span
        >
        <p
            class="font-light text-blue-300 text-pretty my-6 max-w-lg md:max-w-xl md:my-6 md:leading-6 md:text-lg lg:mb-8 lg:max-w-2xl"
        >
            {t("hero.description")}
        </p>
        <div
            class="flex justify-center items-center gap-2 sm:gap-4 md:justify-start"
        >
            <HoverButton href={buildCVLink()}>
                {t("hero.download-button")}
                <DownloadIcon class="ml size-4" />
            </HoverButton>
            <HoverButton
                py="py-0"
                px="px-0"
                size="size-11"
                href="mailto:matiasmg.dev@gmail.com"
                ariaLabel="Email Icon"
            >
                <EmailIcon class="size-5" />
            </HoverButton>
            <HoverButton
                py="py-0"
                px="px-0"
                size="size-11"
                href="https://www.linkedin.com/in/matiasmg/"
                ariaLabel="LinkedIn Icon"
            >
                <LinkedInIcon class="size-4" />
            </HoverButton>
        </div>
    </div>
    <div class="relative object-right my-auto md:ml-auto">
        <div
            class="size-40 rounded-full border-2 border-blue-600 border-opacity-30 md:size-60"
        >
            <BlurImage
                src="profile-pic.webp"
                img={ProfilePic}
                loading="eager"
                classStyles="size-full rounded-full"
                alt="Matías face in a circular shape"
            />
            <div
                class="absolute top-0 right-0 rounded-full border border-blue-600 size-[104%]"
            >
            </div>
        </div>
        <HeroDoubleLine
            class="absolute top-0 -right-[230px] text-blue-600 opacity-90 scale-x-[-1] md:bottom-0 md:-right-[130px] md:top-auto lg:-bottom-20"
        />
    </div>
    <HeroBigShape
        class="absolute -z-10 top-0 -right-52 size-[720px] filter blur-[110px] animate-blob opacity-20 text-blue-600 lg:-right-72"
    />
</section>
